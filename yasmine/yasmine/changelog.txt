# Change log
All notable changes to this project will be documented in this file.


##[0.6.1] - 2016-12-12

### Changed
• 'behaviour' to 'behavior' in code and documentation
• bug fix: invalid state exit on external transition returning into source state
• replaced platform/compiler specific code with a single solution, removed dead code, minor refactoring


##[0.6.0] - 2016-12-09

### Added
• C++03 compatibility
• A new example: Events with parameters. It explains the use case of events with parameters macros.
• a new example of using sub-machine and variables into a state machine: Sub state machine with variables
• Macros for setting handlers (that expect a certain event type) as behaviors of states (do, enter, exit) or transitions.

### Changed
• 'behavior' to 'behaviour' in code and documentation
• Y_ASSERT instead of Y_LOG_AND_THROW when checking if the transition of an initial pseudostate was build in a compound transition


##[0.5.0] - 2016-11-07

### Added
• Y_EMPTY_BEHAVIOR for creating a behavior that does nothing
• CMake files for generators under Windows (Visual Studio) and Linux (gcc, clang)


##[0.4.0] - 2016-10-07

### Added
• Y_OPTIMIZE_4_SPEED and Y_OPTIMIZE_4_MEMORY macros for internal optimization of ancestor lists (performance improvements)
• Y_PROFILER macro was added. When compiled with this macro, the state machine will count the events that were processed.

### Changed
• 'LL_OFF' as default log level
• assembly.hpp macros were improved to avoid ambiguous function calls
• when Y_NO_LOGGING is defined, no log code will be compiled into the library at all
• moved default implementation of dtor into cpp (behavior_impl and constraint_impl)
• removed namespace from assembly.hpp
• removed usage of unique pointer from timed event creator (performance improvements)
• The handle generator for the timed events is no longer a random function.
• vectors used inside algorithm are now created with a default capacity (performance improvements)

### Fixed
• error when compiling with gcc (const std::string transition_impl::get_transition_name)
• warnings concerning override when compiling with Clang
• if Y_NO_LOGGING is defined, the function 'log_version' is hidden
• a bug in the check of incoming transitions of a join


##[0.3.0] - 2016-09-16

### Added
• changelog.txt. It contains the changelog for the yasmine library
• assembly.h. It contains macros used for different tasks like creating the lambda wrappers for behaviors and guards (constraints)
• overloaded methods for adding transitions into state machine: different combinations of parameters for kind, guard and behavior
• priority for events and event priority processing in the state machine
• yasmine's interpretation of the choice pseudostate. The choice allows only one default outgoing transition (a transition with no guard).
• 'Y_NOEXCEPT' for all destructors
• log macro Y_LOG_HEX for logging hex editor style messages
• get_name method for events. It returns the ID of the event as a string if not overloaded
• event_template.hpp containing macros to created event_impl sub classes with fixed ID and priority (EVENT_WITH_ID, EVENT_WITH_ID_PRIORITY)

### Changed
•The extension of the headers is now .hpp instead of .h.
• Both the synchronous and asynchronous state machines use "start_state_machine" and "stop_state_machine" methods to start and stop the state machines.
• "start_state_machine" will return now true if the state machine was started and is running and false if a terminate pseudostate was reached or the state machine encountered a problem and is shutting down. Before the opposite was true.
• COMPLETION_EVENT will now have the maximum value of event_id (std::uint32_t -> 4.294.967.295 or 0xFFFFFFFF) instead of 0
• simple state and asynchronous simple state store an error event instead of a behavior exception
• Defects of the state machine will not be stored in the free store anymore. A copy of the object is stored instead.
• event's 'create_event' is now called 'create'
• constraint's (guard's) 'create_constraint' is now called 'create'

• code improvements (e.g. reference instead of pointer in signature of async_behavior::run)

• Removed the name parameter from transition and implicitly from state_machine::add_transition. A generated transition name can be retrieved by calling get_name()

### Fixed
• improved texts and log levels of logging calls
• The forward declaration headers of classes are now consistently included in the header of the corresponding class. Thus duplicated included headers could be removed
• 'event_priority = std::int8_t' instead of 'event_priority = int8_t'
• Problem with the URI of the state machine elements. Now, the URI contains all the element's ancestors


##[0.2.0] - 2016-08-19

### Added
• asynchronous simple state
• error handling for simple states
• collection headers: yasmine.h, states.h, region_pseudostate.h, state_pseudostates.h, logging.h.

### Changed
• Source code formatting (class names, variable names, and other minor changes).
• updated license


##[0.1.1] - 2016-07-22

### Changed
• source code formatting (class names, variable names, and other minor changes).
• updated license


##[0.1.0] - 2016-06-20

• The very first released version of yasmine